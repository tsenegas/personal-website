[
  {
    "path": "posts/2021-07-21-top-10-big-5-scorers-under-the-lenspart1/",
    "title": "Top 10 Big 5 scorers under the lens (part 1)",
    "description": "An analysis of the top ten scorers in the big 5. Who is the best in the 2020-2021 season?",
    "author": [
      {
        "name": "Thibault Senegas",
        "url": "https://tsenegas.netlify.com"
      }
    ],
    "date": "2021-07-21",
    "categories": [
      "sports analytics"
    ],
    "contents": "\r\n\r\nContents\r\nRetrieve data from FBREF\r\nLeaderboard\r\nLeaderboard xG\r\nGoals vers xGoals\r\n\r\nThe top scorer in the 2020-2021 season is Robert Lewandowski with 41 goals for F.C. Bayern Munich in the Bundesliga. But is he the most effective if we relate his number of goals in playing time and in expecting goals?\r\nUsing data from fbref.com for the 2020-2021 season, we’ll compare the efficiency of the top 10 scorers in the 2020-2021 season in the big 5 national leagues. In this first analysis, we will only use data referring to the number of goals scored (including penalties or not), playing time, expecting goals (with and without penalties).\r\nThe list of the top 10 scorers in the National League for the 2020-2021 season in the Big 5 is as follows:\r\nRobert Lewandowski (Bayern Munich - Bundesliga): 41 goals\r\nLionel Messi (Barcelona - La Liga): 30 goals\r\nCristiano Ronaldo (Juventus - Serie A): 29 goals\r\nAndré Silva (Eint Frankfurt - Bundesliga): 28 goals\r\nKylian Mbappé (Paris S-G - Ligue 1): 27 goals\r\nErling Haaland (Dortmund - Bundesliga): 27 goals\r\nRomelu Lukaku (Inter - Serie A): 24 goals\r\nKarim Benzema (Real Madrid - La Liga): 23 goals\r\nHarry Kane (Tottenham - Premier League): 23 goals\r\nGerard Moreno (Villarreal - La Liga): 23 goals\r\nRobert Lewandowski outrageously dominates this ranking with 41 goals, but let’s see if this is still the case when we push the analysis.\r\nRetrieve data from FBREF\r\nThe first step is to collect data from the 2020-2021 season for the ten strikers. We retrieve the data from fbref using the worldfootballR1 package.\r\n\r\n\r\nShow code\r\n\r\nlibrary(worldfootballR)\r\n## Lewandowski\r\nrl9 <- fb_player_match_logs(\"https://fbref.com/en/players/8d78e732/Robert-Lewandowski\",\r\n                           season_end_year = 2021, stat_type = 'summary')\r\n## Mbappe\r\nkm10 <- fb_player_match_logs(\"https://fbref.com/en/players/42fd9c7f/Kylian-Mbappe\",\r\n                            season_end_year = 2021, stat_type = 'summary')\r\n## Haaland\r\neh9 <- fb_player_match_logs(\"https://fbref.com/en/players/1f44ac21/Erling-Haaland\",\r\n                           season_end_year = 2021, stat_type = 'summary')\r\n## Messi\r\nm10 <- fb_player_match_logs(\"https://fbref.com/en/players/d70ce98e/Lionel-Messi\",\r\n                            season_end_year = 2021, stat_type = 'summary')\r\n## C. Ronaldo\r\ncr7 <- fb_player_match_logs(\"https://fbref.com/en/players/dea698d9/Cristiano-Ronaldo\",\r\n                     season_end_year = 2021, stat_type = 'summary')\r\n## Kane\r\nhk9 <- fb_player_match_logs(\"https://fbref.com/en/players/21a66f6a/Harry-Kane\",\r\n                            season_end_year = 2021, stat_type = 'summary')\r\n## André Silva\r\nAS <- fb_player_match_logs(\"https://fbref.com/en/players/3effaa34/matchlogs/2020-2021/summary/Andre-Silva-Match-Logs\",\r\n                           season_end_year = 2021, stat_type = 'summary')\r\nAS$Player <- \"André Silva\"\r\n## Lukaku\r\nRLukaku9 <- fb_player_match_logs(\"https://fbref.com/en/players/5eae500a/Romelu-Lukaku\",\r\n                            season_end_year = 2021, stat_type = 'summary')\r\n## Moreno\r\nMoreno <- fb_player_match_logs(\"https://fbref.com/en/players/81f0781e/Gerard-Moreno\",\r\n                            season_end_year = 2021, stat_type = 'summary')\r\n## Benzema\r\nKB9 <- fb_player_match_logs(\"https://fbref.com/en/players/70d74ece/Karim-Benzema\",\r\n                               season_end_year = 2021, stat_type = 'summary')\r\n\r\n# Create an unique df and keep only national league games\r\ndf_forwards_national_league <- rbind(cr7, eh9, km10, hk9, KB9, rl9, m10, Moreno, RLukaku9, AS)\r\ndf_forwards_national_league <- df_forwards_national_league %>% filter(Comp == \"Bundesliga\" | Comp == \"La Liga\" | Comp == \"Ligue 1\" | Comp == \"Premier League\" | Comp == \"Serie A\") %>% filter(Pos != \"On matchday squad, but did not play\")\r\n\r\nranking_goals <- df_forwards_national_league %>% group_by(Player) %>% mutate(goals = sum(Gls),\r\n                                                                             min_played = sum(Min),\r\n                                                                             xGoals = sum(xG_Expected),\r\n                                                                             npxGoals = sum(npxG_Expected),\r\n                                                                             penalty_kicks = sum(PK)) \r\nranking_goals <- unique(ranking_goals[c(1,40,41,42,43,44)])\r\n\r\n\r\n\r\nLeaderboard\r\nOverall\r\n\r\n\r\nShow code\r\n\r\nranking_w_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                       aes(x=reorder(Player, goals),\r\n                                           y=goals,\r\n                                           color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=goals), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"including penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\nranking_wo_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                        aes(x=reorder(Player, (goals-penalty_kicks)),\r\n                                            y=(goals-penalty_kicks),\r\n                                            color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=(goals-penalty_kicks)), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"without penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\ngrid.arrange(\r\n  ranking_w_penalties,\r\n  ranking_wo_penalties, \r\n  nrow = 1,\r\n  top = \"Ranking of the top scorers in the big 5\",\r\n  bottom = text_grob(\r\n  \"Graphic: Thibault Senegas \\n Data: fbref.com\",\r\n  size = 8,\r\n  hjust = 1,\r\n  x = 1\r\n  )\r\n)\r\n\r\n\r\n\r\n\r\nPer 90 minutes\r\n\r\n\r\nShow code\r\n\r\nranking_w_penalties_90m <- ggplot2::ggplot(ranking_goals,\r\n                                       aes(x=reorder(Player, goals/min_played),\r\n                                           y=goals/min_played,\r\n                                           color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round((goals/min_played)*90,2),nsmall = 2)), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"including penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\nranking_wo_penalties_90m <- ggplot2::ggplot(ranking_goals,\r\n                                        aes(x=reorder(Player, (goals-penalty_kicks)/min_played),\r\n                                            y=(goals-penalty_kicks)/min_played,\r\n                                            color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round(((goals-penalty_kicks)/min_played)*90,2),nsmall = 2)), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"without penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\ngrid.arrange(\r\n  ranking_w_penalties_90m,\r\n  ranking_wo_penalties_90m, \r\n  nrow = 1,\r\n  top = \"Ranking of the top scorers in the big 5\",\r\n  bottom = text_grob(\r\n  \"Graphic: Thibault Senegas \\n Data: fbref.com\",\r\n  size = 8,\r\n  hjust = 1,\r\n  x = 1\r\n  )\r\n)\r\n\r\n\r\n\r\n\r\nLeaderboard xG\r\nOverall\r\n\r\n\r\nShow code\r\n\r\nranking_xG_w_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                       aes(x=reorder(Player, xGoals),\r\n                                           y=xGoals,\r\n                                           color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=xGoals), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"including penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\nranking_xG_wo_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                        aes(x=reorder(Player, npxGoals),\r\n                                            y=npxGoals,\r\n                                            color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=npxGoals), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"without penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\ngrid.arrange(\r\n  ranking_xG_w_penalties,\r\n  ranking_xG_wo_penalties, \r\n  nrow = 1,\r\n  top = \"Ranking of the top scorers in the big 5\",\r\n  bottom = text_grob(\r\n  \"Graphic: Thibault Senegas \\n Data: fbref.com\",\r\n  size = 8,\r\n  hjust = 1,\r\n  x = 1\r\n  )\r\n)\r\n\r\n\r\n\r\n\r\nPer 90 minutes\r\n\r\n\r\nShow code\r\n\r\nranking_xG_w_penalties_90m <- ggplot2::ggplot(ranking_goals,\r\n                                       aes(x=reorder(Player, (xGoals/min_played)*90),\r\n                                           y=(xGoals/min_played)*90,\r\n                                           color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round((xGoals/min_played)*90,2),nsmall = 2)), hjust=1.1, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"including penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\nranking_xG_wo_penalties_90m <- ggplot2::ggplot(ranking_goals,\r\n                                        aes(x=reorder(Player, (npxGoals/min_played)*90),\r\n                                            y=(npxGoals/min_played)*90,\r\n                                            color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round((npxGoals/min_played)*90,2),nsmall = 2)), hjust=1.1, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"without penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\ngrid.arrange(\r\n  ranking_xG_w_penalties_90m,\r\n  ranking_xG_wo_penalties_90m, \r\n  nrow = 1,\r\n  top = \"Ranking of the top scorers in the big 5\",\r\n  bottom = text_grob(\r\n  \"Graphic: Thibault Senegas \\n Data: fbref.com\",\r\n  size = 8,\r\n  hjust = 1,\r\n  x = 1\r\n  )\r\n)\r\n\r\n\r\n\r\n\r\nGoals vers xGoals\r\n\r\n\r\nShow code\r\n\r\nranking_GvsxG_w_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                       aes(x=reorder(Player, goals/xGoals),\r\n                                           y=goals/xGoals,\r\n                                           color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round((goals/xGoals),2),nsmall = 2)), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"including penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\nranking_GvsnpxG_wo_penalties <- ggplot2::ggplot(ranking_goals,\r\n                                        aes(x=reorder(Player, (goals-penalty_kicks)/npxGoals),\r\n                                            y=(goals-penalty_kicks)/npxGoals,\r\n                                            color=Player)) +\r\n  geom_bar(stat=\"identity\", fill =\"white\") +\r\n  geom_text(aes(label=format(round((goals-penalty_kicks)/npxGoals,2),nsmall = 2)), hjust=1.5, color=\"black\", size=3.5) +\r\n  ggtitle(\"\") +\r\n  xlab(\"\") +\r\n  ylab(\"\") +\r\n  coord_flip() +\r\n  labs(subtitle = \"without penalties\") +\r\n  theme_minimal() +\r\n  theme(legend.position=\"none\")\r\n\r\ngrid.arrange(\r\n  ranking_GvsxG_w_penalties,\r\n  ranking_GvsnpxG_wo_penalties, \r\n  nrow = 1,\r\n  top = \"Ranking of the top scorers in the big 5\",\r\n  bottom = text_grob(\r\n  \"Graphic: Thibault Senegas \\n Data: fbref.com\",\r\n  size = 8,\r\n  hjust = 1,\r\n  x = 1\r\n  )\r\n)\r\n\r\n\r\n\r\n\r\n\r\nhttps://jaseziv.github.io/worldfootballR/↩︎\r\n",
    "preview": "posts/2021-07-21-top-10-big-5-scorers-under-the-lenspart1/top-10-big-5-scorers-under-the-lenspart1_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2024-08-28T11:05:59-04:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  }
]
